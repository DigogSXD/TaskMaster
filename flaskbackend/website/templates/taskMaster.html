{% extends 'base.html' %}

{% block title %}
TaskMaster - Gerenciamento de Projetos
{% endblock %}

{% block content %}
    <h2>Gerenciamento de Projetos</h2>

    <form id="criarProjeto" method="POST" action="{{ url_for('auth.adicionar_projeto') }}">
        <input type="text" name="project_name" placeholder="Nome do Projeto" required>
        <button type="submit">Criar Projeto</button>
    </form>

    <h3>Projetos</h3>
    <table id="botoesProjetos">
        <tr>
            <th>Nome do Projeto</th>
            <th>Ações</th>
        </tr>
        {% for projeto in projects %}
        <tr>
            <td>{{ projeto.nome_projeto }}</td>
            <td>
                <a href="/projeto/{{ projeto.id }}" class="btn btn-primary">Gerenciar</a>
                <a href="{{ url_for('auth.editar_projeto', project_id=projeto.id) }}" class="btn btn-warning">Editar</a>

                
                <!-- Formulário para deletar projeto via POST -->
                <form method="POST" action="{{ url_for('auth.deletar_projeto', project_id=projeto.id) }}" style="display:inline;">
                    <button type="submit" class="btn btn-danger" onclick="return confirm('Tem certeza que deseja deletar este projeto?');">Deletar</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
{% endblock %}
